

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>turbo.httputil – Utilities for the HTTP protocol &mdash; Turbo.lua 2.0.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Turbo.lua 2.0.0 documentation" href="index.html"/>
        <link rel="next" title="turbo.httpserver – Callback based HTTP Server" href="httpserver.html"/>
        <link rel="prev" title="turbo.iostream – High-level asynchronous streaming sockets" href="iostream.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> Turbo.lua</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="get_started.html">Get Started With Turbo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="get_started.html#installing-turbo">Installing Turbo</a></li>
<li class="toctree-l2"><a class="reference internal" href="get_started.html#hello-world">Hello World</a></li>
<li class="toctree-l2"><a class="reference internal" href="get_started.html#request-parameters">Request parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="get_started.html#routes">Routes</a></li>
<li class="toctree-l2"><a class="reference internal" href="get_started.html#serving-static-files">Serving Static Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="get_started.html#json-output">JSON Output</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Asynchronous modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="modules.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#example-module">Example module</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="apiref.html">Turbo.lua API Versioning</a><ul>
<li class="toctree-l2"><a class="reference internal" href="apiref.html#preliminaries">Preliminaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="apiref.html#module-version">Module Version</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web.html">turbo.web &#8211; Core web framework</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web.html#requesthandler-class">RequestHandler class</a></li>
<li class="toctree-l2"><a class="reference internal" href="web.html#httperror-class">HTTPError class</a></li>
<li class="toctree-l2"><a class="reference internal" href="web.html#staticfilehandler-class">StaticFileHandler class</a></li>
<li class="toctree-l2"><a class="reference internal" href="web.html#redirecthandler-class">RedirectHandler class</a></li>
<li class="toctree-l2"><a class="reference internal" href="web.html#application-class">Application class</a></li>
<li class="toctree-l2"><a class="reference internal" href="web.html#mustache-templating">Mustache Templating</a></li>
<li class="toctree-l2"><a class="reference internal" href="web.html#mustache-templatehelper-class">Mustache.TemplateHelper class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="async.html">turbo.async &#8211; Asynchronous clients</a><ul>
<li class="toctree-l2"><a class="reference internal" href="async.html#utilities-for-coroutines">Utilities for coroutines</a></li>
<li class="toctree-l2"><a class="reference internal" href="async.html#httpclient-class">HTTPClient class</a></li>
<li class="toctree-l2"><a class="reference internal" href="async.html#httpresponse-class">HTTPResponse class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="websocket.html">turbo.websocket &#8211; WebSocket server and client</a><ul>
<li class="toctree-l2"><a class="reference internal" href="websocket.html#websocketstream-mixin">WebSocketStream mixin</a></li>
<li class="toctree-l2"><a class="reference internal" href="websocket.html#websockethandler-class">WebSocketHandler class</a></li>
<li class="toctree-l2"><a class="reference internal" href="websocket.html#websocketclient-class">WebSocketClient class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ioloop.html">turbo.ioloop &#8211; Main I/O Loop</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ioloop.html#ioloop-class">IOLoop class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="iostream.html">turbo.iostream &#8211; High-level asynchronous streaming sockets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="iostream.html#iostream-class">IOStream class</a></li>
<li class="toctree-l2"><a class="reference internal" href="iostream.html#ssliostream-class">SSLIOStream class</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">turbo.httputil &#8211; Utilities for the HTTP protocol</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#httpparser-class">HTTPParser class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#httpheaders-class">HTTPHeaders class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="httpserver.html">turbo.httpserver &#8211; Callback based HTTP Server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="httpserver.html#httpserver-class">HTTPServer class</a></li>
<li class="toctree-l2"><a class="reference internal" href="httpserver.html#httprequest-class">HTTPRequest class</a></li>
<li class="toctree-l2"><a class="reference internal" href="httpserver.html#httpconnection-class">HTTPConnection class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tcpserver.html">turbo.tcpserver &#8211; Callback based TCP socket Server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tcpserver.html#tcpserver-class">TCPServer class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="structs.html">turbo.structs &#8211; Data structures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="structs.html#deque-double-ended-queue">deque, Double ended queue</a></li>
<li class="toctree-l2"><a class="reference internal" href="structs.html#buffer-low-level-mutable-buffer">buffer, Low-level mutable buffer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hash.html">turbo.hash &#8211; Cryptographic Hashes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hash.html#sha1-class">SHA1 class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="util.html">turbo.util Common utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="util.html#table-tools">Table tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.html#low-level">Low level</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.html#misc">Misc</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sockutil.html">turbo.sockutil &#8211; Socket utilites and helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="escape.html">turbo.escape &#8211; Escaping and JSON utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="escape.html#json-conversion">JSON conversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="escape.html#escaping">Escaping</a></li>
<li class="toctree-l2"><a class="reference internal" href="escape.html#string-trimming">String trimming</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="log.html">turbo.log &#8211; Command-line log helper</a></li>
<li class="toctree-l1"><a class="reference internal" href="turbovisor.html">turbovisor &#8211; Application supervisor</a><ul>
<li class="toctree-l2"><a class="reference internal" href="turbovisor.html#options">Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="turbovisor.html#examples">Examples</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Turbo.lua</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>turbo.httputil &#8211; Utilities for the HTTP protocol</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/httputil.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="turbo-httputil-utilities-for-the-http-protocol">
<span id="httputil"></span><h1>turbo.httputil &#8211; Utilities for the HTTP protocol<a class="headerlink" href="#turbo-httputil-utilities-for-the-http-protocol" title="Permalink to this headline">¶</a></h1>
<p>The httputil namespace contains the HTTPHeader class and POST data parsers, which is a integral part of the HTTPServer class.</p>
<div class="section" id="httpparser-class">
<h2>HTTPParser class<a class="headerlink" href="#httpparser-class" title="Permalink to this headline">¶</a></h2>
<p>Used to parse HTTP headers. Parsing is done through Ryan Dahls HTTP Parser via the FFI. It is
very fast and contains various protection against attacks. The .so is compiled when Turbo is installed with <tt class="docutils literal"><span class="pre">make</span> <span class="pre">install</span></tt>.
Note that this class has sanity checking for input parameters. If they are of wrong type or contains bad data they will raise a error.</p>
<dl class="function">
<dt id="HTTPParser">
<tt class="descname">HTTPParser</tt><big>(</big><em>hdr_str</em>, <em>hdr_t</em><big>)</big><a class="headerlink" href="#HTTPParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new HTTPParser class instance.</p>
<p>hdr_t available:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">turbo.httputil.hdr_t.HTTP_RESPONSE</span></tt>,</li>
<li><tt class="docutils literal"><span class="pre">turbo.httputil.hdr_t.HTTP_REQUEST</span></tt>,</li>
<li><tt class="docutils literal"><span class="pre">turbo.httputil.hdr_t.HTTP_BOTH</span></tt></li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>hdr_str</strong> (<em>String</em>) &#8211; (optional) Raw header, including ending double CLRF, if you want the class to parse headers on construction.</li>
<li><strong>hdr_t</strong> (<em>Number</em>) &#8211; (optional) If hdr_str is defined this should also be defined. It is used to specify what kind of header you want to parse.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">HTTPParser object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPParser:get_url()</tt></dt>
<dd><p>Get URL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or nil</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPParser:get_url_field(UF_prop)</tt></dt>
<dd><p>Get specified URL segment. If segment does not exist, nil is returned. Will throw error if no URL has been parsed.
UF_prop available:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">turbo.httputil.UF.SCHEMA</span></tt>,</li>
<li><tt class="docutils literal"><span class="pre">turbo.httputil.UF.HOST</span></tt>,</li>
<li><tt class="docutils literal"><span class="pre">turbo.httputil.UF.PORT</span></tt>,</li>
<li><tt class="docutils literal"><span class="pre">turbo.httputil.UF.PATH</span></tt>,</li>
<li><tt class="docutils literal"><span class="pre">turbo.httputil.UF.PATH</span></tt>,</li>
<li><tt class="docutils literal"><span class="pre">turbo.httputil.QUERY</span></tt>,</li>
<li><tt class="docutils literal"><span class="pre">turbo.httputil.UF.FRAGMENT</span></tt>,</li>
<li><tt class="docutils literal"><span class="pre">turbo.httputil.UF.USERINFO</span></tt></li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>UF_prop</strong> (<em>Number</em>) &#8211; Segment to return, values defined in <tt class="docutils literal"><span class="pre">turbo.httputil.UF</span></tt>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">String or nil</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPParser:parse_url(url)</tt></dt>
<dd><p>Parse standalone URL and populate class instance with values.  <tt class="docutils literal"><span class="pre">HTTPParser.get_url_field</span></tt> must be used to read out value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>url</strong> (<em>String</em>) &#8211; URL string.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPParser:get_method()</tt></dt>
<dd><p>Get current URL request method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or nil</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPParser:get_status_code()</tt></dt>
<dd><p>Get the current HTTP status code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Number or nil</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPHeaders:get(key, caseinsensitive)</tt></dt>
<dd><p>Get given key from header key value section.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> (<em>String</em>) &#8211; Value to get, e.g &#8220;Content-Encoding&#8221;.</li>
<li><strong>caseinsensitive</strong> (<em>Boolean</em>) &#8211; If true then the key will be matched without regard for case sensitivity.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">The value of the key in String form, or nil if not existing. May return a table if multiple keys are set.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPParser:get_argument(name)</tt></dt>
<dd><p>Get a argument from the query section of parsed URL. (e.g ?param1=myvalue)
Note that this method only gets one argument. If there are multiple arguments with same name
use <tt class="docutils literal"><span class="pre">HTTPParser.get_arguments()</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>String</em>) &#8211; The name of the argument.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">String or nil</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPParser:get_arguments()</tt></dt>
<dd><p>Get all URL query arguments of parsed URL. Support multiple values with same name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Table</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPParser:parse_response_header(raw_headers)</tt></dt>
<dd><p>Parse HTTP response headers. Populates the class with all data in headers. Will throw error on parsing failure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>raw_headers</strong> (<em>String</em>) &#8211; Raw HTTP response header in string form.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPParser:parse_request_header(raw_headers)</tt></dt>
<dd><p>Parse HTTP request headers. Populates the class with all data in headers. Will throw error on parsing failure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>raw_headers</strong> (<em>String</em>) &#8211; Raw HTTP request header in string form.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="httpheaders-class">
<h2>HTTPHeaders class<a class="headerlink" href="#httpheaders-class" title="Permalink to this headline">¶</a></h2>
<p>Used to compile HTTP headers.
Note that this class has sanity checking for input parameters. If they are of wrong type or contains bad data they will raise a error.</p>
<dl class="function">
<dt id="HTTPHeaders">
<tt class="descname">HTTPHeaders</tt><big>(</big><big>)</big><a class="headerlink" href="#HTTPHeaders" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new HTTPHeaders class instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">HTTPHeaders object</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="manipulation">
<h3>Manipulation<a class="headerlink" href="#manipulation" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt>
<tt class="descname">HTTPHeaders:set_uri(uri)</tt></dt>
<dd><p>Set URI. Mostly usefull when building up request headers, NOT when parsing response headers. Parsing should be done with HTTPHeaders:parse_url.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>uri</strong> (<em>String</em>) &#8211; URI string to set.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPHeaders:get_uri()</tt></dt>
<dd><p>Get current URI.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or nil</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPHeaders:set_method(method)</tt></dt>
<dd><p>Set URL request method. E.g &#8220;POST&#8221; or &#8220;GET&#8221;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>method</strong> (<em>String</em>) &#8211; Method to set.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPHeaders:get_method()</tt></dt>
<dd><p>Get current URL request method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or nil</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPHeaders:set_version(version)</tt></dt>
<dd><p>Set HTTP protocol version.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>version</strong> (<em>String</em>) &#8211; Version string to set.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPHeaders:get_version()</tt></dt>
<dd><p>Get current HTTP protocol version.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or nil</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPHeaders:set_status_code(code)</tt></dt>
<dd><p>Set HTTP status code. The code is validated against all known.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>code</strong> (<em>Number</em>) &#8211; The code to set.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPHeaders:get_status_code()</tt></dt>
<dd><p>Get the current HTTP status code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Number or nil</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPHeaders:get(key, caseinsensitive)</tt></dt>
<dd><p>Get given key from header key value section.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> (<em>String</em>) &#8211; Value to get, e.g &#8220;Content-Encoding&#8221;.</li>
<li><strong>caseinsensitive</strong> (<em>Boolean</em>) &#8211; If true then the key will be matched without regard for case sensitivity.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">The value of the key in String form, or nil if not existing. May return a table if multiple keys are set.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPHeaders:add(key, value)</tt></dt>
<dd><p>Add a key with value to the headers. Supports adding multiple values to  one key. E.g mutiple &#8220;Set-Cookie&#8221; header fields.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> (<em>String</em>) &#8211; Key to add to headers. Must be string or error is raised.</li>
<li><strong>value</strong> (<em>String</em>) &#8211; Value to associate with the key.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPHeaders:set(key, value, caseinsensitive)</tt></dt>
<dd><p>Set a key with value to the headers. Overwiting existing key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> (<em>String</em>) &#8211; The key to set.</li>
<li><strong>value</strong> (<em>String</em>) &#8211; Value to associate with the key.</li>
<li><strong>caseinsensitive</strong> (<em>Boolean</em>) &#8211; If true then the existing keys will be matched without regard for case sensitivity and overwritten.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPHeaders:remove(key, caseinsensitive)</tt></dt>
<dd><p>Remove a key value combination from the headers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> (<em>String</em>) &#8211; Key to remove.</li>
<li><strong>caseinsensitive</strong> (<em>Boolean</em>) &#8211; If true then the existing keys will be matched without regard for case sensitivity and overwritten.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="stringifiers">
<h3>Stringifiers<a class="headerlink" href="#stringifiers" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt>
<tt class="descname">HTTPHeaders:stringify_as_request()</tt></dt>
<dd><p>Stringify data set in class as a HTTP request header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String. HTTP header string excluding final delimiter.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPHeaders:stringify_as_response()</tt></dt>
<dd><p>Stringify data set in class as a HTTP response header.
If not &#8220;Date&#8221; field is set, it will be generated automatically.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String. HTTP header string excluding final delimiter.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">HTTPHeaders:__tostring()</tt></dt>
<dd><p>Convinience method to return HTTPHeaders:stringify_as_response on string conversion.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String. HTTP header string excluding final delimiter.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="parse_multipart_data">
<tt class="descname">parse_multipart_data</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#parse_multipart_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse multipart form data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>String</em>) &#8211; Multi-part form data in string form.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Table of keys with corresponding values. Each key may hold multiple values if there were found multiple values for one key.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="parse_post_arguments">
<tt class="descname">parse_post_arguments</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#parse_post_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse ? and &amp; separated key value fields.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>String</em>) &#8211; Form data in string form.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Table of keys with corresponding values. Each key may hold multiple values if there were found multiple values for one key.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="httpserver.html" class="btn btn-neutral float-right" title="turbo.httpserver – Callback based HTTP Server">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="iostream.html" class="btn btn-neutral" title="turbo.iostream – High-level asynchronous streaming sockets"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, John Abrahamsen.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45069639-1', 'auto');
  ga('send', 'pageview');

</script>


</body>
</html>